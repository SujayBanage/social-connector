{"version":3,"sources":["UIshared/button/button.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","chatComponents/friend/friend.js","chatComponents/singlechat/singleChat.js","components/Messages/Messages.js","services/apiRequestService.js"],"names":["button","props","linkTo","to","className","classname","text","type","onClick","onclickHandler","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","Friend","socket","useContext","socketContext","username","profileimage","src","process","OUTPUT_URL","alt","chatHandler","emit","user","id","chatroom","currentuser","SingleChat","deleteChatHandler","chatid","currentUser","roomname","user1","user2","grpChat","SideBar","lazy","apiRequest","apiRequestService","ACTIONS","notify","success","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","toastId","error","Messages","useEffect","off","on","console","log","history","groupChat","dispatch","payload","privateChats","groupChats","a","fetchPrivateData","PRIVATE_URL","sessionStorage","getItem","res","data","chats","fetchChat","fetchGroupChat","useHistory","findFriend","friend","getuser","state","search","useReducer","action","groupchat","fallback","placeholder","onChange","e","map","chat","users","_id","chatType","userGoogleLogin","url","config","headers","axios","post","response","userFacebookLogin","token","get"],"mappings":"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","file":"static/js/8.6308d28d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./button.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst button = (props) => {\r\n  return props.linkTo ? (\r\n    <Link to={props.linkTo} >\r\n      <button className={props.classname}>{props.text}</button>\r\n    </Link>\r\n  ) : (\r\n    <button className={props.classname} type={props.type} onClick={props.onclickHandler}>\r\n      {props.text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default button;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React,{useContext} from \"react\";\r\nimport {socketContext} from '../../index.js';\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../../UIshared/button/button.js\";\r\nimport './friend.css';\r\nconst Friend = (props) => {\r\n\r\n  const socket = useContext(socketContext);\r\n\r\n  const addUserToChatInvite =()=>{\r\n    socket.emit('addUserToChatInvite',{user:props.id,chatroom:props.chatroom,currentuser:props.currentuser});\r\n  }\r\n\r\n  return (\r\n    <div className=\"chatFriend flex w-1/5 items-center justify-around md:justify-center m-2 p-2 md:p-4 text-lg rounded-lg\">\r\n      <Link to={`/profile/${props.username}`} className=\"flex items-center justify-center\">\r\n        {props.profileimage ? (\r\n          <img\r\n            src={`${process.env.OUTPUT_URL}/${props.profileimage}`}\r\n            className=\"h-10 w-10 md:h-12 md:w-12 rounded-full border-4 border-white mr-4 \"\r\n            alt=\"image\"\r\n          />\r\n        ) : null}\r\n\r\n        <span className=\"mr-2 lg:flex lg:text-xl\">{props.username}</span>\r\n      </Link>\r\n      {props.username &&  props.type!==\"groupChat\"? (\r\n        <Button text=\"chat\" classname=\"chatButton text-white text-lg m-2 p-2 rounded-md \" onclickHandler={props.chatHandler} />\r\n      ) : null}\r\n\r\n      <Button text=\"Add\" classname={props.type===\"groupChat\" ? \"addbutton text-white text-sm md:text-md md:m-2 p-1 md:p-2 rounded-md \" : \"hidden\"} onclickHandler={addUserToChatInvite}/>\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friend;\r\n","import React,{useContext} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./singleChat.css\";\r\nimport Button from \"../../UIshared/button/button\";\r\nimport { socketContext } from \"../../index.js\";\r\n\r\n\r\n\r\nconst SingleChat = (props) => {\r\n\r\n  const socket = useContext(socketContext);\r\n\r\n  const deleteChatHandler=()=>{\r\n    let chatid = props.chatid\r\n    let type = props.type\r\n    let user = props.currentUser\r\n    socket.emit('deleteChat',{chatid,type,user});\r\n  }\r\n\r\n  if (props.type === \"privateChat\") {\r\n    return (\r\n      <div className=\"chat flex items-center p-2 justify-between  md:justify-around m-2 rounded-lg  text-white w-4/5\">\r\n        <Link\r\n          to={`/chat/${props.roomname}/${props.currentUser.username}`}\r\n          className=\"flex items-center justify-start\"\r\n        >\r\n          <img\r\n            src={\r\n              props.user1.username === props.currentUser.username &&\r\n              (props.user1.profileimage || props.currentUser.username)\r\n                ? `${process.env.OUTPUT_URL}/${props.user2.profileimage}`\r\n                : `${process.env.OUTPUT_URL}/${props.user1.profileimage}`\r\n            }\r\n            className=\"h-12 w-12 rounded-full mr-4\"\r\n            alt=\"image\"\r\n          />\r\n          <span>\r\n            {props.user1.username === props.currentUser.username\r\n              ? props.user2.username\r\n              : props.user1.username}\r\n          </span>\r\n        </Link>\r\n\r\n        <Button text=\"❌\" classname=\"bg-red-400 p-2 rounded-md\" onclickHandler={deleteChatHandler}/>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"groupChat flex items-center justify-between md:justify-around p-2 md:p-4 m-2 md:m-4 text-white md:text-xl font-bold rounded-lg\">\r\n        <Link\r\n          to={`/chat/${props.grpChat.roomname}/${props.currentUser.username}`}\r\n        >\r\n          <span>{props.grpChat.roomname}</span>\r\n        </Link>\r\n        <Button text=\"❌\" classname=\"bg-red-400 p-2 rounded-md\" onclickHandler={deleteChatHandler}/>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SingleChat;\r\n","import React, { useReducer, useEffect, useContext ,Suspense,lazy} from \"react\";\r\nimport Button from \"../../UIshared/button/button.js\";\r\nimport { useHistory} from \"react-router-dom\";\r\nimport { socketContext } from \"../../index.js\";\r\nimport \"./Messages.css\";\r\nimport Friend from \"../../chatComponents/friend/friend.js\";\r\nimport SingleChat from \"../../chatComponents/singlechat/singleChat.js\";\r\nimport apiRequestService from \"../../services/apiRequestService.js\";\r\nimport {toast } from \"react-toastify\";\r\nlazy(()=>import(\"react-toastify/dist/ReactToastify.css\"))\r\nconst SideBar = lazy(()=>import(\"../sideBar/sideBar.js\"));\r\nconst apiRequest = new apiRequestService();\r\n\r\nconst successid = 'success';\r\nconst failid = 'fail';\r\nconst noid = 'noid';\r\n\r\nconst ACTIONS = {\r\n  SET_CURRENT_USER: \"setCurrentUser\",\r\n  SET_FRIEND: \"setFriend\",\r\n  SET_TEXT: \"setText\",\r\n  SET_SEARCH: \"setSearch\",\r\n  FIND_FRIEND: \"findFriend\",\r\n  SET_CHATS: \"setChats\",\r\n  SET_GROUPCHAT: \"setGroupChat\",\r\n  SET_GROUPCHATS:'setGroupChats'\r\n};\r\n\r\nconst notify = (success, message) => {\r\n  if (success === true) {\r\n    toast.success(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      toastId:successid\r\n    });\r\n  } else if (success === false) {\r\n    toast.error(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      toastId:failid\r\n    });\r\n  } else {\r\n    toast(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n      toastId:noid\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\nconst Messages = () => {\r\n  const socket = useContext(socketContext);\r\n  \r\n  useEffect(() => {\r\n    socket.emit(\"join\", { roomname: \"messagesRoom\" });\r\n    return () => {\r\n      socket.off();\r\n    };\r\n  }, []);\r\n  \r\n  socket.on(\"chatRoomCreated\", ({ roomname, currentuser }) => {\r\n    console.log(roomname);\r\n    history.push(`/chat/${roomname}/${currentuser.username}`);\r\n  });\r\n  \r\n  socket.on('groupChatCreated',({groupChat,currentuser})=>{\r\n    console.log(groupChat);\r\n    console.log(currentuser);\r\n    history.push(`/chat/${groupChat.roomname}/${currentuser.username}`);\r\n  })\r\n\r\n  socket.on('groupChatFailed',({message})=>{\r\n    notify(false,message);\r\n    dispatch({type:ACTIONS.SET_GROUPCHAT,payload:''})\r\n  })\r\n\r\n  // socket.on('updatedChats',({chats})=>{\r\n  //   dispatch({type:ACTIONS.SET_CHATS,payload:[...chats]})\r\n  // })\r\n  \r\n  // socket.on('updatedGroupChats',({chats})=>{\r\n  //   dispatch({type:ACTIONS.SET_GROUPCHATS,payload:[...chats]})\r\n  // })\r\n  \r\n  socket.on('deletedPrivateChat',({privateChats})=>{\r\n    // console.log(privateChats);\r\n    dispatch({type:ACTIONS.SET_CHATS,payload:[...privateChats]})\r\n    notify(true,\"chat deleted successfully!!!\")\r\n  })\r\n  \r\n  socket.on('deletedGroupChat',({groupChats})=>{\r\n    dispatch({type:ACTIONS.SET_GROUPCHATS,payload:[...groupChats]})\r\n    notify(true,\"chat deleted successfully!!!\")\r\n  })\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchChat() {\r\n      try {\r\n        const res = await apiRequest.fetchPrivateData(\r\n          `${process.env.PRIVATE_URL}/getchats`,\r\n          sessionStorage.getItem(\"authToken\")\r\n        );\r\n        console.log(res);\r\n        if(res.data.success === true) {\r\n          dispatch({ type: ACTIONS.SET_CHATS, payload: [...res.data.chats] });\r\n        }\r\n        dispatch({ type: ACTIONS.SET_CURRENT_USER, payload: res.data.user });\r\n        console.log(res.data.user);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    fetchChat();\r\n  }, []);\r\n\r\n  useEffect(() =>{\r\n    async function fetchGroupChat(){\r\n      try{\r\n        const res = await apiRequest.fetchPrivateData(`${process.env.PRIVATE_URL}/getGroupChats`,sessionStorage.getItem(\"authToken\"));\r\n        console.log(res);\r\n        if(res.data.success===true){\r\n          dispatch({type:ACTIONS.SET_GROUPCHATS, payload:res.data.groupChats});\r\n        }\r\n      }\r\n      catch(err){\r\n        console.log(err);\r\n      }\r\n    }\r\n    fetchGroupChat();\r\n  },[])\r\n\r\n  \r\n\r\n\r\n  const history = useHistory();\r\n\r\n  const initialState = {\r\n    search: false,\r\n    friend: {},\r\n    currentUser: {},\r\n    text: \"\",\r\n    chats: [],\r\n    groupchat:'',\r\n    groupChats:[]\r\n  };\r\n\r\n  const findFriend = async (friend) => {\r\n    const data = {\r\n      username: friend,\r\n    };\r\n    try {\r\n      const res = await apiRequest.getuser(\r\n        `${process.env.PRIVATE_URL}/getuser`,\r\n        data,\r\n        sessionStorage.getItem(\"authToken\")\r\n      );\r\n      console.log(res.data.user);\r\n      dispatch({ type: ACTIONS.SET_FRIEND, payload: res.data.user });\r\n      dispatch({\r\n        type: ACTIONS.SET_CURRENT_USER,\r\n        payload: res.data.currentUser,\r\n      });\r\n      dispatch({ type: ACTIONS.SET_TEXT, payload: \"\" });\r\n      dispatch({ type: ACTIONS.SET_SEARCH, payload: !state.search });\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  };\r\n\r\n  const reducer = (state, action) => {\r\n    if (action.type === \"setCurrentUser\") {\r\n      return { ...state, currentUser: { ...action.payload } };\r\n    } else if (action.type === \"setSearch\") {\r\n      return { ...state, search: action.payload };\r\n    } else if (action.type === \"setText\") {\r\n      return { ...state, text: action.payload };\r\n    } else if (action.type === \"findFriend\") {\r\n      findFriend(action.payload);\r\n      return state;\r\n    } else if (action.type === \"setFriend\") {\r\n      return { ...state, friend: { ...action.payload } };\r\n    } else if (action.type === \"setChats\") {\r\n      return { ...state, chats: [...action.payload] };\r\n    }\r\n    else if(action.type === \"setGroupChat\"){\r\n      return {...state,groupchat: action.payload}\r\n    } \r\n    else if(action.type === \"setGroupChats\"){\r\n      console.log(state.groupChats);\r\n      return {...state,groupChats:[...action.payload]}\r\n    }\r\n    else {\r\n      return state;\r\n    }\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const chatHandler = () => {\r\n    socket.emit(\"createChatRoom\", {\r\n      currentuser: state.currentUser,\r\n      friend: state.friend,\r\n    });\r\n  };\r\n\r\n  const groupChatHandler = () => {\r\n    socket.emit(\"createGroupChat\",{roomname:state.groupchat,currentUser:state.currentUser})\r\n  } \r\n\r\n  return (\r\n    <>\r\n    <Suspense fallback={<h1>loading...</h1>}>\r\n      <SideBar />\r\n    </Suspense>\r\n      <div className=\"messagesContainer flex h-full md:h-full w-screen flex-col md:flex-row items-center justify-center\">\r\n        <div className=\"searchUserContainer flex flex-col items-center justify-center h-1/2 md:h-screen w-screen md:w-1/2\">\r\n\r\n\r\n          {/* //! search button */}\r\n          <Button\r\n            text=\"search user\"\r\n            classname=\"searchUser text-white text-sm rounded-md p-2 mt-4 \"\r\n            onclickHandler={() =>\r\n              dispatch({ type: ACTIONS.SET_SEARCH, payload: !state.search })\r\n            }\r\n          />\r\n\r\n          {/* //! search div */}\r\n\r\n          <div\r\n            className={\r\n              state.search\r\n                ? \"searchDiv flex items-center justify-center w-full\"\r\n                : \"hidden\"\r\n            }\r\n          >\r\n            <input\r\n              className=\"h-10 rounded-md \"\r\n              type=\"text\"\r\n              placeholder=\"...search friend\"\r\n              value={state.text}\r\n              onChange={(e) =>\r\n                dispatch({ type: ACTIONS.SET_TEXT, payload: e.target.value })\r\n              }\r\n            />\r\n            <Button\r\n              text=\"search\"\r\n              classname=\"search m-2 bg-blue-500 text-white text-lg rounded-md p-2\"\r\n              onclickHandler={() =>\r\n                dispatch({ type: ACTIONS.FIND_FRIEND, payload: state.text })\r\n              }\r\n            />\r\n          </div>\r\n\r\n          {/* //! searched friend*/}\r\n\r\n          <div className=\"friends flex flex-col items-center justify-center\">\r\n            {state.friend.username ? (<>\r\n            <Suspense>\r\n              <Friend\r\n                username={state.friend.username}\r\n                profileimage={state.friend.profileimage}\r\n                chatHandler={chatHandler}\r\n              />\r\n            </Suspense>\r\n              </>\r\n            ) : (null\r\n            )}\r\n          </div>\r\n\r\n          <h1 className=\"text-center font-bold text-white mt-10 text-xl\">\r\n            Previous Chats\r\n          </h1>\r\n\r\n          {/* //! all chats */}\r\n\r\n          <div className=\"previousChats flex flex-col w-full  md:h-1/2 items-center justify-center overflow-y-scroll\">\r\n            {state.chats.length !== 0 ? (\r\n              state.chats.map((chat) => {\r\n                if(chat!==null){\r\n                const [user1, user2] = chat.users;\r\n                console.log(state.currentUser.username);\r\n                console.log(user1.username);\r\n                return (\r\n                  <Suspense>\r\n                  <SingleChat key ={chat._id} chatid={chat._id} type={chat.chatType} user1={user1} user2={user2} currentUser={state.currentUser} roomname={chat.roomname}/>\r\n                  </Suspense>\r\n                );\r\n                }\r\n              })\r\n            ) : (\r\n              <h1 className=\"text-white\"> no chat found</h1>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"groupChats p-4 flex flex-col items-center justify-center h-1/2 md:h-screen w-screen md:w-1/2\">\r\n              {/* //! search div */}\r\n              <div className=\"groupChatDiv flex flex-col h-44 w-full md:w-1/2 justify-center items-center mt-8 md:m-4 p-4 bg-white rounded-lg\">\r\n                <input type=\"text\" placeholder=\"...enter group chat name\" onChange={(e)=>dispatch({ type:ACTIONS.SET_GROUPCHAT,payload:e.target.value})} className=\"m-2 p-2 w-full\" value={state.groupchat}/>\r\n                <Button text=\"create group chat\" onclickHandler={groupChatHandler} classname=\"createGroupChat p-2 m-2 w-full text-white font-bold\"/>\r\n              </div>\r\n              \r\n              <h1 className=\" text-xl text-center text-white font-bold mt-4\">Your Group Chat's</h1>\r\n              \r\n              <div className=\"previousGroupChats mt-4 h-4/5 md:h-1/2 w-full overflow-y-scroll\">\r\n                {\r\n                  state.groupChats.length!==0 ? state.groupChats.map((grpChat)=>{\r\n                    return <Suspense>\r\n                    <SingleChat key={grpChat._id} chatid={grpChat._id} type={grpChat.chatType} grpChat={grpChat} currentUser={state.currentUser}/>\r\n                    </Suspense>\r\n                  }) : <h1 className=\"text-white\">no chats found!!</h1>\r\n                }\r\n              </div>\r\n        </div>      \r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import axios from 'axios';\r\nclass apiRequestService{\r\n    async sendformData(url, data){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\"\r\n            }\r\n        }       \r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            // console.log(err);\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async getuser(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err.message;\r\n        }\r\n\r\n    }\r\n\r\n    async fetchData(url){\r\n        try{\r\n            const response = await axios.get(url);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async fetchPrivateData(url,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        };\r\n        try {\r\n            const response = await axios.get(url,config);\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n\r\n    }\r\n\r\n    async fileUpload(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"multipart/form-data\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try {\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            // console.log(error);\r\n            return error;    \r\n        }\r\n    }\r\n\r\n    userGoogleLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n    userFacebookLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default apiRequestService;"],"sourceRoot":""}