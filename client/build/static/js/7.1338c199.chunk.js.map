{"version":3,"sources":["UIshared/button/button.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","UIshared/lazyload/lazyload.js","components/fileupload/fileupload.js","images/like.png","images/likeActive.png","images/dislike.png","images/dislikeActive.png","components/postupload/postupload.js","UIshared/card/card.js","images/commentsActive.png","images/comments.png","components/posts/post/post.js","components/posts/posts.js","components/feed/feed.js","services/apiRequestService.js"],"names":["button","props","linkTo","to","className","classname","text","type","onClick","onclickHandler","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","LazyLoad","useState","showImage","setShowImage","imageRef","useRef","useEffect","ref","IntersectionObserver","entries","observer","entry","isIntersecting","disconnect","observe","resgisterObserver","current","src","imgsrc","alt","styleClass","srcset","sizes","Fileupload","encType","onSubmit","onSubmitHandler","htmlFor","id","name","placeholder","onChange","filesetHandler","description","onChangeHandler","apiRequest","apiRequestService","notify","success","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","Postupload","history","useHistory","file","setFile","setDescription","e","a","preventDefault","console","log","formData","FormData","append","fileUpload","process","PRIVATE_URL","sessionStorage","getItem","res","data","files","Card","userid","socket","useContext","socketContext","likestate","dislikestate","commentstate","state","setState","responseHandler","postid","unique","emit","Userid","postCreatorName","OUTPUT_URL","postCreatorImg","imgSrc","likeActive","like","onMouseOver","onMouseOut","height","width","likes","dislikeActive","dislike","dislikes","Post","roomname","off","on","index","postCreator","Posts","posts","setPosts","setUserid","setMessage","setTimeout","postsUpdated","fetchPrivateData","user","map","post","_id","creatorName","creatorImg","SideBar","lazy","Feed","fallback","userGoogleLogin","url","config","headers","axios","response","userFacebookLogin","token","get"],"mappings":"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","file":"static/js/7.1338c199.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./button.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst button = (props) => {\r\n  return props.linkTo ? (\r\n    <Link to={props.linkTo} >\r\n      <button className={props.classname}>{props.text}</button>\r\n    </Link>\r\n  ) : (\r\n    <button className={props.classname} type={props.type} onClick={props.onclickHandler}>\r\n      {props.text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default button;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React,{useState,useRef,useEffect} from 'react';\r\n\r\n\r\nconst resgisterObserver=(ref,setShowImage)=>{\r\n    const observer = new IntersectionObserver((entries,observer)=>{\r\n        entries.forEach((entry)=>{\r\n            if(!entry.isIntersecting){\r\n                return;\r\n            }\r\n            setShowImage(true);\r\n            observer.disconnect();\r\n        })\r\n\r\n    });\r\n    observer.observe(ref)\r\n}\r\n\r\nconst LazyLoad =(props)=>{\r\n    const [showImage,setShowImage] = useState(false);\r\n    const imageRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        //!add intersection observer!!!\r\n        resgisterObserver(imageRef.current,setShowImage);\r\n    },[])\r\n\r\n\r\n    if(showImage){\r\n        return (\r\n            <img src={props.imgsrc} alt=\"image\" className={props.styleClass} alt=\"image\" srcSet={props.srcset} sizes={props.sizes}/>\r\n            // <img src={props.imgsrc} alt=\"image\" className={props.styleClass} alt=\"image\"/>\r\n        )\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n        <span ref={imageRef}></span>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LazyLoad;","import React from \"react\";\r\nimport Button from '../../UIshared/button/button.js';\r\nconst Fileupload = (props) => {\r\n  return (\r\n    <form className=\"bg-white w-full shadow-md rounded p-4 m-2\" encType=\"multipart/form-data\" onSubmit={props.onSubmitHandler}>\r\n        <div className=\"mb-4\">\r\n              <label\r\n                className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                htmlFor=\"image\"\r\n              >\r\n                select image to upload\r\n              </label>\r\n              <input\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                id=\"image\"\r\n                name=\"image\"\r\n                type=\"file\"\r\n                placeholder=\"select image \"\r\n                // value={props.file}\r\n                onChange={props.filesetHandler}\r\n              />\r\n          </div>\r\n          {props.description!==false ? <div className=\"mb-4\">\r\n              <label\r\n                className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                htmlFor=\"descreption\"\r\n              >\r\n                descreption\r\n              </label>\r\n              <input\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                id=\"description\"\r\n                name=\"description\"\r\n                type=\"text\"\r\n                placeholder=\"add description....\"\r\n                value={props.description}\r\n                onChange={props.onChangeHandler}\r\n              />\r\n          </div> :null}\r\n          <Button classname=\"uploadimg p-2 rounded-md text-white\" type=\"submit\"  text=\"upload\"/>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Fileupload;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABYklEQVRIie2UvUoDQRSFv0hAWVbwAQR/UJEUwUJ9gYBil9ZGBNF3sROixICiltoqKPgGYpEm9pJgLW6hmwXXImfYNcxuskk6PXCZ5Z5zz50ZZi/8YwDMATWgCQRACzgDFmKaReBcXCDtqWpTsQl4QGiJNrAPHOjbpvkANtJ2bsxvgTXAAVaAa+W/FSFwI86R9i7WZMbWoBYzt2FHOw+A3QSNaVK1kU2Rq0lHBLYVSViXx6uN9EW6KQa94MrjyyTGYuSb1vhryYqlLq9fDe617g3RwNQ+2MhZOkfzgcIA5suqbwPzSaIKnTt8AsYzmE8Az6qtpAldoCHhJZDrwzwHXKmmQR+PpED0wx33aJIDTqT1yHC1JeBThUcpukNpfGCrX3ODMtHMqQL5GJenM9zMjCpnNTcoAe8yegSmgEmikeANsvNuFInGyIsiVK44rLnBNFAnGst15UYKB7hQOKM2/8P4AWD/Z8H9sEBxAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAI6SURBVDhP1ZS/axRBFMff3p5FCBo8MMQVvMLGwhRiIQaDCkoQ9AxEE8TCXqyDjdgE/wJLESwkEAkRBJULWGjEKzQaFEQkRlKoQUMschDNzjy/780P9xKjrX7Z4c28H595s8wu/fNKvFUt186mnCRtZG2JyP7YfHdsxYeilo7W0pKldmuYmE2z8uie8SFVBC73n2tDxmWMM8y8E3aRjX0MO5LnyeskXyVKuTthuoT4Efgr2Hge8zHi/Gplqt4UjgK/9Q+Vy5zeQvA0WS4RWzxMKMJjm/CdZ2u3IH4FjirWMIhbl8fWjKeUDm5tPJCjEZVtaQgFg3JUWCQUhrHtsLdReB3xKtbeb+IgY2t5/n1AWApEQp/uhuQNbAKrm7m1gFwc3cl6Exs+WQR2uuBfhkIcjEKHeYiZzgjErjPiXNPVGusBBaiLOT/sywhEYAJAo0lSHEZYFwAtUIWpX2rrEdgxOdFAF3jxha4k0e8eAO6YBVge4ze63jQeRqDKmmEAP0VAOEoABL/4Qmeu+7eJtSOe0vqlLB48vgeAOu7edu1U7qLawhx3VO+h88+j7FT27pm+P1ELUPR1/7EedDeOoi4pCuA4/3WhF7AYyGafP/GlqnVA0Ze9h3tQeAeQbaFDFKt1YH4Px8Vsdvq+L4n6LVC00N1bRac3ATykXck7c8edwvLCjrnpVz61RRsCRZ93H+jAH+UaupLPchW80YTNcPZhZsmnrNMfgUEfd+07AegKkp9mcy/0r/K/iugnA9RmzPRAnOUAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABP0lEQVRIid3Uu0pDQRSF4Q/sbdTgBdGAgp2CYGUhiZY+g0/gq1hZiYWFtW3ewsIIBrVQFMSAFsYYQTQWJ8FDmHNJgoUumGZmzfrZezbDf9IcKpj6LUAFbVRR6Oxt4hpHWIp5izjAHT5wj0MspAEKqAUgW3jrBO1iB+8dX+9qYjsJMI2nmDkEaeMrITwOWQwB9gLmJEjWOgoBagnmXkgzB6AeAjynXIhDNvCaAfjESC+gmnHpws8Ir6OR4r0NVbCfo/S8lRyHAMuyJ6SN8xyQ9RCA6PXzTElau06SwmFM1L88kHglZdEI1zGTBoA16Q+YBNlCKSu8qxJaOSHxdvWlbcl/TlolfamMl5TgFq6GhaziMRDeEPV9AmeGbFcRl7HwB6zEzruQG8wPAoBJnIo+xVBIAbODhnc1ivFhQ/6WvgEV/OIklDEUsQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALNSURBVDhPtVRbSFRRFN3nXh3GGUejtJ8eJgnRpxheH73QUqFw7AV9RPRTYFBBkFBU5EcQFRIVhBL1Y/Tjz2jvRnthNVpE9VdCSQlBpOVjHHXu3a1970zkzOiH1IJ17z57n7vuPnufc+i/waj2Vxk1ta7YcM7Q5AGxMrwCxKq1pMrvFd9coeRRXFPrVayaYO4D25rN7xcKOGqy4o++YO8PmRPHSIWRoxQXECMZpQY0k754HoesWNgRFHRsXJd3W3l63yhX7iYORw+aw5RG/BmhK8j8MpHlgsBRjLeAeaAbHAIDSOawtyv0C7YjOFppLCbi9ihR4Tl9HgVVBq3lCDWYPykDqQBXwUlwvwxSoE9ZVOh91DOqh9cbOmvcCGedFLQUQn3KRd3KTd+UTmU8IYUuRGgV+GdFCZiPiPd4/tIHmqXzEjj8jp+wTKJGc5BqOExdyPQ0Mh7HWuG2GzgLdljKXCiTMsFFtisGET2AGm6G6FNketYRdYIzIxfM0VCiMIwJ2/UX3AjUQ3Q1SiCizXoWRWcXHQOnNNZoAEbIdiVARE+YQ7SBx6lDeeLLj0WT8JLZ6td8wR7J7hJotzMRsvwj6HYpmiOZNunZqTKVb1t9Xa8idqEzO3sCeN0QOxVE9JQ0yprWKCfo4CZ2SpsYuj0EjuUv6sacYpjLHM90yJ+LeJKGYT3UMuirSiMDWacTPbeId2YFe6UX038zWlGSTcq6A1POdkpE8MkZZPgMy1/Dkf56a7h2efDFu1g4uRgjlUa6Ir4Gc5fjSQZO1GSDvuDTW+VagWEbKd4TutcuXU7erL7O0JTXNbgb5iFQjlsiIqjpyW1WuBT2LXA7znpL/OpLufvV3T5Goy6id+UYvne8WC3RBzS0XCnrfHXwyZBi2grfdbAOokUyacZNFcdYheHGNbYXplxXLZnB0LgTcWBU+T1QWRm6H3gdc/1LEP0G9UHxIsvIjOQAAAAASUVORK5CYII=\"","import React,{useState} from 'react';\r\nimport Fileupload from '../fileupload/fileupload.js';\r\nimport apiRequestService from '../../services/apiRequestService.js';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nconst apiRequest = new apiRequestService();\r\n\r\n\r\n\r\nconst notify = (success, message) => {\r\n  if (success === true) {\r\n    toast.success(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else if (success === false) {\r\n    toast.error(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else {\r\n    toast(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nconst Postupload = () => {\r\n    const history = useHistory();\r\n    const [file,setFile] = useState('');\r\n    const [description,setDescription] = useState('');\r\n\r\n    const fileUpload=(e)=>{\r\n        setFile(e.target.files[0]);\r\n    }\r\n    \r\n    const inputchange =(e)=>{\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    const onSubmitHandler =async (e)=>{\r\n        e.preventDefault();\r\n        console.log(\"submit handler is working!!!\")\r\n        const formData = new FormData();\r\n        formData.append(\"description\",description);\r\n        formData.append(\"image\",file,file.name);\r\n        console.log(formData);\r\n        const res = await apiRequest.fileUpload(`${process.env.PRIVATE_URL}/postUpload`,formData,sessionStorage.getItem(\"authToken\"));\r\n        console.log(res);\r\n        if(res.data.success===true){\r\n            setFile('');\r\n            setDescription('');\r\n            notify(res.data.success, res.data.message);\r\n            history.push('/feed');\r\n        }\r\n        else{\r\n            notify(res.data.success, res.data.message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"postUploadComponent md:w-3/5\">\r\n        <Fileupload file={file} description={description} filesetHandler={fileUpload} onChangeHandler={inputchange} onSubmitHandler={onSubmitHandler}/>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Postupload;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport \"./card.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport like from \"../../images/like.png\";\r\nimport likeActive from \"../../images/likeActive.png\";\r\nimport dislike from \"../../images/dislike.png\";\r\nimport dislikeActive from \"../../images/dislikeActive.png\";\r\nimport comments from \"../../images/comments.png\";\r\nimport commentsActive from \"../../images/commentsActive.png\";\r\nimport Lazyload from \"../lazyload/lazyload.js\";\r\nimport { socketContext } from \"../../index.js\";\r\n\r\nconst Card = (props) => {\r\n  const history = useHistory();\r\n  console.log(props.userid);\r\n  const socket = useContext(socketContext);\r\n  const [state, setState] = useState({\r\n    likestate: false,\r\n    dislikestate: false,\r\n    commentstate: false,\r\n  });\r\n\r\n  // const [pic, setPic] = useState(\"\");\r\n\r\n  // useEffect(() => {\r\n  //   const image = new Image(\"\");\r\n  //   image.src = `http://localhost:8000/output/${props.imgSrc}`;\r\n  //   setPic(image);\r\n  // }, []);\r\n\r\n  const responseHandler = (e) => {\r\n    if (e.target.name === \"likes\" && props.postid === props.unique) {\r\n      console.log(props.userid);\r\n      // setResponse({...response,Likes:++response.Likes});\r\n      // const res =  await apiRequest.sendformData({postid:props.postid,likes:response.likes},'/publicResponse')\r\n\r\n      socket.emit(\"likesUpdate\", {\r\n        postid: props.postid,\r\n        Userid: props.userid,\r\n      });\r\n      // console.log(res);\r\n    } else if (e.target.name === \"dislikes\" && props.postid === props.unique) {\r\n      console.log(props.userid);\r\n      // setResponse({...response,Dislikes:++response.Dislikes});\r\n      socket.emit(\"dislikesUpdate\", {\r\n        postid: props.postid,\r\n        Userid: props.userid,\r\n      });\r\n      // const res =  await apiRequest.sendformData({postid:props.postid,dislikes:response.dislikes},'/publicResponse')\r\n      // console.log(res);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {props.postCreatorName ? (\r\n        <>\r\n          <div className=\"cardContainer flex flex-col items-start m-2 md:m-10 p-2 rounded-lg\">\r\n            <div className=\"postCreator flex items-center justify-start p-2 mb-2 w-full rounded-lg\">\r\n              <Link\r\n                to={`/profile/${props.postCreatorName}`}\r\n                className=\"flex items-center justify-start text-white\"\r\n              >\r\n                <Lazyload\r\n                  imgsrc={`${process.env.OUTPUT_URL}/${props.postCreatorImg}`}\r\n                  styleClass=\"h-12 w-12 rounded-full object-cover mr-4 border-2 border-white\"\r\n                />\r\n                {/* <img src={} className= alt=\"image\"/> */}\r\n                <span className=\"text-lg font-bold\">\r\n                  {props.postCreatorName}\r\n                </span>\r\n              </Link>\r\n            </div>\r\n\r\n            {/* <div className=\"imageAndDiscription flex flex-col items-center justify-center mb-4\"> */}\r\n            <Lazyload\r\n              imgsrc={`${process.env.OUTPUT_URL}/${props.imgSrc}`}\r\n              // imgsrc={pic}\r\n              styleClass=\"rounded-md object-cover h-auto w-full\"\r\n              alt=\"image\"\r\n              srcset={`${process.env.OUTPUT_URL}/min-${props.imgSrc} 640w, ${process.env.OUTPUT_URL}/${props.imgSrc} 1000w`}\r\n              sizes=\"(max-width:500px) 640w,1000w\"\r\n            />\r\n            <span className=\"break-words  mt-4\">{props.description}</span>\r\n            {/* </div> */}\r\n\r\n            <div className=\"publicResponseDiv flex items-center justify-center\">\r\n              <img\r\n                src={state.likestate ? likeActive : like}\r\n                className=\"h-7 w-7 m-3\"\r\n                onMouseOver={() =>\r\n                  setState({\r\n                    ...state,\r\n                    likestate: !state.likestate,\r\n                  })\r\n                }\r\n                onMouseOut={() =>\r\n                  setState({ ...state, likestate: !state.likestate })\r\n                }\r\n                // onClick={() =>setResponse({...response,likes:state.likes+1})}\r\n                onClick={responseHandler}\r\n                name=\"likes\"\r\n                alt=\"icon\"\r\n                height=\"5px\"\r\n                width=\"5px\"\r\n              />\r\n              {/* {Likes} */}\r\n              {props.likes}\r\n              <img\r\n                src={state.dislikestate ? dislikeActive : dislike}\r\n                className=\"h-7 w-7 m-3\"\r\n                onMouseOver={() =>\r\n                  setState({\r\n                    ...state,\r\n                    dislikestate: !state.dislikestate,\r\n                  })\r\n                }\r\n                onMouseOut={() =>\r\n                  setState({ ...state, dislikestate: !state.dislikestate })\r\n                }\r\n                // onClick={() =>setResponse({...response,dislikes:state.dislikes+1})}\r\n                onClick={responseHandler}\r\n                name=\"dislikes\"\r\n                alt=\"icon\"\r\n                height=\"5px\"\r\n                width=\"5px\"\r\n              />\r\n              {/* {Dislikes} */}\r\n              {props.dislikes}\r\n              <img\r\n                src={state.commentstate ? commentsActive : comments}\r\n                className=\"h-7 w-7 m-3\"\r\n                onMouseOver={() =>\r\n                  setState({\r\n                    ...state,\r\n                    commentstate: !state.commentstate,\r\n                  })\r\n                }\r\n                onMouseOut={() =>\r\n                  setState({ ...state, commentstate: !state.commentstate })\r\n                }\r\n                onClick={() =>\r\n                  history.push(`/comments/${props.postid}/${props.userid}`)\r\n                }\r\n                alt=\"icon\"\r\n                height=\"5px\"\r\n                width=\"5px\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"cardWrapper flex items-center justify-center\">\r\n          <div className=\"cardContainer flex flex-col items-center justify-center\">\r\n            <div className=\"cardImgDiv flex items-center justify-center\">\r\n              <img src={props.imgSrc} />\r\n            </div>\r\n            <div className=\"cardDescriptionDiv flex items-center justify-center\">\r\n              <span className=\"break-words\">{props.description}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAC5SURBVDhP7dQ9CsJAEIbhNZjCIIKnsLDwDoJg5UG8gaWNV/ACttb2dnoFLyESVBR/3m9REQniMgGL5IMnYYYwYYtZl3cqj3cDfSS+Cs8OCxxUNLHEzWiFGlwHJ2R9FOKKdsRDx45hjZ+jgbmmHGhPQQdq/86+suU1R1syxQVZK/WLPWaIn7eN0oKWe4yBGkQ73oNuk2/RHm/gb5vPzKG/athEDUuGOCLFCHUE5f3IShdVrLFV489x7g6ULkoQ2sIogQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADHSURBVDhP7dStCsJQGMbxKUz8AMFksZgEDXZBMHodCxZvwWbRIt7BwCuw2cRmtXsFFhUNQ/zA/zMURETZzsCgD/y28y68Oye8x4o6sds7iybSfhU8O0zgxXnkMEIZYVPEFCkVVbhaGGaMinZ4P7ZpNrDVMNL8G5rnRxt6yPuVWTR2R02JjSEKWOOEDlaow8GnZHCA8zh2JegvXfSxgGZ8AJ3iXS5Ywns1x7p51KiGM3oInRa2mKGNJALleYcNJDDHXh++HMu6Av1BHh+O+dwcAAAAAElFTkSuQmCC\"","import React, { useEffect, useState, useContext } from \"react\";\r\nimport Card from \"../../../UIshared/card/card.js\";\r\nimport { socketContext } from \"../../../index.js\";\r\n\r\nconst Post = (props) => {\r\n  const socket = useContext(socketContext);\r\n  const [state, setState] = useState({\r\n    likes: props.likes.length,\r\n    dislikes: props.dislikes.length,\r\n  });\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"join\", { roomname: \"singlepost\" });\r\n    return () => {\r\n      socket.off();\r\n    };\r\n  }, []);\r\n\r\n  socket.on(\"updatedlikes\", ({ dislikes,likes,postid }) => {\r\n    if(postid===props.postid){\r\n        setState({likes: likes,dislikes:dislikes});\r\n    }else{\r\n        console.log(\"post dont't match\")\r\n    }  \r\n    // io.to(\"publicresponse\").emit(\"updatedlikes\",{likes});\r\n});\r\n\r\nsocket.on(\"updatedDislikes\", ({ likes,dislikes,postid }) => {\r\n    if(postid === props.postid){\r\n        setState({ likes:likes,dislikes: dislikes });\r\n    }\r\n    else{\r\n        console.log(\"post dont't match\")\r\n    }\r\n    // io.to(\"publicresponse\").emit(\"updatedDislikes\",{dislikes});\r\n  });\r\n\r\n  return (\r\n    <Card\r\n      unique={props.unique}\r\n      userid={props.userid}\r\n      postid={props.postid}\r\n      index={props.index}\r\n    //   likes={props.likes.length}\r\n    //   dislikes={props.dislikes.length}\r\n    likes={state.likes}\r\n    dislikes={state.dislikes}\r\n      postCreatorName={props.postCreator}\r\n      postCreatorImg={props.postCreatorImg}\r\n      imgSrc={props.imgSrc}\r\n      description={props.description}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect ,useContext} from \"react\";\r\nimport './posts.css';\r\nimport {useHistory} from 'react-router-dom';\r\nimport Post from \"../posts/post/post.js\";\r\nimport apiRequestService from \"../../services/apiRequestService.js\";\r\nimport {socketContext} from '../../index.js';\r\nimport { toast } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst notify = (success, message) => {\r\n  if (success===true) {\r\n    toast.success(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else if (success===false){\r\n    toast.error(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else {\r\n    toast(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  }\r\n};\r\n\r\nconst apiRequest = new apiRequestService();\r\n\r\n// let socket;\r\n// let updatedPosts;\r\n// const END_POINT = 'http://localhost:5000';\r\n\r\nconst Posts = () => {\r\n\r\n  const history = useHistory();\r\n\r\n  const socket = useContext(socketContext);\r\n  \r\n  const [posts, setPosts] = useState([]);\r\n  const [userid,setUserid] = useState('');\r\n  const [message,setMessage] = useState('');\r\n\r\n  \r\n  // socket = io(END_POINT,{\r\n      // transports: [\"websocket\", \"polling\", \"flashsocket\"],\r\n  // })\r\n\r\n  useEffect(() => {\r\n    if(sessionStorage.getItem(\"authToken\")){\r\n      console.log(posts);\r\n      socket.emit('join',{roomname:\"postsRoom\"}); \r\n    }\r\n    else{\r\n      notify(false,\"pls login first!!\")\r\n      setTimeout(() =>{\r\n        history.push(\"/login\");\r\n      },2000);\r\n    }\r\n    return ()=>{\r\n      // socket.emit('disconnect');\r\n      socket.off();\r\n    }\r\n  },[])\r\n  \r\n  socket.on('updatedPosts',({postsUpdated,message}) => {\r\n      console.log(\"updated posts on clinet side is running\");\r\n      console.log(postsUpdated);\r\n      setPosts(postsUpdated);\r\n      setMessage(message);\r\n      notify(message);\r\n  })\r\n  \r\n  useEffect(() => {\r\n    (\r\n      async ()=>{\r\n        const res = await apiRequest.fetchPrivateData(\r\n          `${process.env.PRIVATE_URL}/getPosts`,\r\n          sessionStorage.getItem(\"authToken\")\r\n        );\r\n        // console.log(data);\r\n        console.log(res);\r\n        setPosts(res.data.posts);\r\n        setUserid(res.data.user.id);\r\n        console.log(userid);\r\n      }\r\n    )()\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n    <div className=\"Container flex flex-col items-center w-full  \">\r\n      {posts.length!==0 ? posts.map((post,index) => {\r\n        return (\r\n          <Post\r\n            key={post._id}\r\n            unique={post._id}\r\n            index={index}\r\n            userid={userid}\r\n            postid={post._id}\r\n            // likes={post.likes.length}\r\n            // dislikes={post.dislikes.length}\r\n            likes={post.likes}\r\n            dislikes={post.dislikes}\r\n            postCreator={post.creatorName}\r\n            postCreatorImg={post.creatorImg}\r\n            imgSrc={post.imgsrc}\r\n            description={post.description}\r\n          />\r\n        );\r\n      }):<h1>No posts yet!!!</h1>}\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, {useEffect,Suspense,lazy} from \"react\";\r\nimport \"./feed.css\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {toast } from \"react-toastify\";\r\nimport Posts from '../posts/posts.js';\r\nimport Postupload from \"../postupload/postupload\";\r\nconst SideBar = lazy(()=>import('../sideBar/sideBar'));\r\nlazy(()=>import ('react-toastify/dist/ReactToastify.css'));\r\n\r\nconst notify = (success, message) => {\r\n  if (success===true) {\r\n    toast.success(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else if (success===false){\r\n    toast.error(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else {\r\n    toast(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nconst Feed = () => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if(!sessionStorage.getItem(\"authToken\")){\r\n      notify(false,\"pls Login first!!\")\r\n        history.push(\"/login\");\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n    <div className=\"feedContainer flex flex-col items-center overflow-y-scroll w-full\">\r\n      <Suspense fallback={<div className=\"text-white\">loading.....</div>}>\r\n      <SideBar/>\r\n      </Suspense>\r\n\r\n      <Postupload/>\r\n\r\n        <Posts/>\r\n        \r\n      {/* <Suspense fallback={<h1>loading.....</h1>}>  */}\r\n      {/* <div className=\"upload h-24 w-full flex items-center justify-center mt-2 bg-green-400 \">\r\n        <Button linkTo=\"/postUpload\" text=\"Upload\" classname=\"Upload rounded-md p-2 text-white\" />\r\n      </div> */}\r\n      {/* </Suspense> */}\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Feed;\r\n","import axios from 'axios';\r\nclass apiRequestService{\r\n    async sendformData(url, data){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\"\r\n            }\r\n        }       \r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            // console.log(err);\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async getuser(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err.message;\r\n        }\r\n\r\n    }\r\n\r\n    async fetchData(url){\r\n        try{\r\n            const response = await axios.get(url);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async fetchPrivateData(url,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        };\r\n        try {\r\n            const response = await axios.get(url,config);\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n\r\n    }\r\n\r\n    async fileUpload(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"multipart/form-data\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try {\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            // console.log(error);\r\n            return error;    \r\n        }\r\n    }\r\n\r\n    userGoogleLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n    userFacebookLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default apiRequestService;"],"sourceRoot":""}