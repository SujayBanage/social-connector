/*! For license information please see 15.3c3ac27c.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{102:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(112);var c=n(111);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},113:function(e,t,n){"use strict";var r=n(102),c=n(101),a=n(0),s=n(1);t.a=function(e){var t,n=Object(a.useState)(!1),o=Object(c.a)(n,2),i=o[0],u=o[1],l=Object(a.useRef)(null);return Object(a.useEffect)((function(){!function(e,t){new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(t(!0),n.disconnect())}))})).observe(e)}(l.current,u)}),[]),i?Object(s.jsx)("img",(t={src:e.imgsrc,alt:"image",className:e.styleClass},Object(r.a)(t,"alt","image"),Object(r.a)(t,"srcSet",e.srcset),Object(r.a)(t,"sizes",e.sizes),t)):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("span",{ref:l})})}},261:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var r=n(97),c=n.n(r),a=n(108),s=n(98),o=n(101),i=n(0),u=n(2),l=n(14),p=n(50),d=(n(261),n(99)),m=n(113),f=n(1),b=Object(i.lazy)((function(){return n.e(13).then(n.bind(null,269))})),j=new d.a;t.default=function(){var e=Object(i.useContext)(p.socketContext),t=Object(u.g)(),n=t.postid,r=t.userid,d=Object(i.useState)([]),O=Object(o.a)(d,2),h=O[0],v=O[1],x=Object(i.useState)(""),g=Object(o.a)(x,2),y=g[0],w=g[1],k=Object(i.useState)({creatorName:"",creatorImg:"",postImg:"",description:"",likes:[],dislikes:[]}),S=Object(o.a)(k,2),_=S[0],N=S[1];Object(i.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.fetchData("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PRIVATE_URL,"/getpost/").concat(n));case 2:t=e.sent,console.log(t),N({creatorName:t.data.post.creatorName,creatorImg:t.data.post.creatorImg,postImg:t.data.post.imgsrc,description:t.data.post.description,likes:Object(a.a)(t.data.post.likes),dislikes:Object(a.a)(t.data.post.dislikes)}),v(Object(a.a)(t.data.comments)),console.log(h),console.log(_);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){return e.emit("join",{roomname:"commentsroom"}),function(){e.off()}}),[]),e.on("updatedComments",(function(e){var t=e.Comments;e.user===_.creatorName&&(v(Object(a.a)(t)),console.log(t))})),e.on("reply",(function(e){var t=e.Comments;v(Object(a.a)(t))})),e.on("commentLikeUpdate",(function(e){var t=e.Comments;console.log(t),v(Object(a.a)(t))})),e.on("commentDislikeUpdate",(function(e){var t=e.Comments;console.log(t),v(Object(a.a)(t))}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"commentsComponent h-full w-screen flex flex-col items-center  justify-between",children:[Object(f.jsxs)("div",{className:"post flex flex-col lg:flex-row lg:items-center items-center lg:p-2 justify-center lg:h-2/5 w-4/5 lg:w-1/2   mt-4 rounded-lg",children:[Object(f.jsx)("div",{className:"postimg flex flex-col flex-wrap items-center lg:w-4/5 h-full m-2 ",children:Object(f.jsx)(m.a,{imgsrc:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).OUTPUT_URL,"/").concat(_.postImg),styleClass:"object-cover rounded-lg",alt:"image"})}),Object(f.jsxs)("div",{className:"postinfo flex flex-col items-center ",children:[Object(f.jsxs)("div",{className:"postcreator flex items-center justify-start  m-2",children:[Object(f.jsx)(m.a,{imgsrc:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).OUTPUT_URL,"/").concat(_.creatorImg.replace(/\\/g,"/")),styleClass:"h-10 w-10 md:h-12 md:w-12 rounded-full mr-2",alt:"image"}),Object(f.jsx)(l.b,{to:"/profile/".concat(_.creatorName),children:Object(f.jsx)("span",{className:"font-bold",children:_.creatorName})})]}),Object(f.jsx)("div",{className:"postdescription m-2",children:Object(f.jsxs)("span",{children:[" description: ",_.description]})}),Object(f.jsxs)("div",{className:"postresponse flex items-center justify-between m-2",children:[Object(f.jsxs)("span",{className:"m-1",children:["likes: ",_.likes.length]}),Object(f.jsxs)("span",{className:"m-1",children:["dislikes: ",_.dislikes.length]})]})]})]}),Object(f.jsx)("div",{className:"addCommentDiv p-4 w-3/5",children:Object(f.jsxs)("div",{className:"mb-4",children:[Object(f.jsx)("label",{className:"block text-white text-center md:text-xl font-bold mb-2",htmlFor:"descreption",children:"add comment..."}),Object(f.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"comment",name:"comment",type:"text",placeholder:"add comment....",value:y,onChange:function(e){w(e.target.value)}}),Object(f.jsx)("button",{onClick:function(){e.emit("commentsUpdate",{postid:n,userid:r,text:y}),w("")},className:"addComment md:h-12 md:w-26 bg-green-500 text-center text-white font-bold md:text-xl p-2 rounded-md",children:"add comment"})]})}),Object(f.jsx)("div",{className:"commentsContainer h-1/2 w-full lg:w-3/5 overflow-y-scroll p-4",children:0!==h.length?h.map((function(e){return Object(f.jsx)(i.Suspense,{fallback:Object(f.jsx)("h1",{children:"loading..."}),children:Object(f.jsx)(b,{commentid:e._id,text:e.text,postid:e.postid,commentBy:e.commentBy,likes:e.likes,dislikes:e.dislikes,children:e.children,userid:r},e._id)})})):null})]})})}},99:function(e,t,n){"use strict";var r=n(97),c=n.n(r),a=n(98),s=n(109),o=n(110),i=n(105),u=n.n(i),l=function(){function e(){Object(s.a)(this,e),this.userGoogleLogin=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"content-type":"application/json"}},e.next=4,u.a.post(t,n,r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),this.userFacebookLogin=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"content-type":"application/json"}},e.next=4,u.a.post(t,n,r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}return Object(o.a)(e,[{key:"sendformData",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"content-type":"application/json"}},e.prev=1,e.next=4,u.a.post(t,n,r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getuser",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.prev=1,e.next=4,u.a.post(t,n,a);case 4:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPrivateData",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=1,e.next=4,u.a.get(t,r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fileUpload",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(r)}},e.prev=1,e.next=4,u.a.post(t,n,a);case 4:return s=e.sent,e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();t.a=l}}]);
//# sourceMappingURL=15.3c3ac27c.chunk.js.map