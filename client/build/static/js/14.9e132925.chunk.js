(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{100:function(e,t,n){"use strict";n(0),n(103);var r=n(14),a=n(1);t.a=function(e){return e.linkTo?Object(a.jsx)(r.b,{to:e.linkTo,children:Object(a.jsx)("button",{className:e.classname,children:e.text})}):Object(a.jsx)("button",{className:e.classname,type:e.type,onClick:e.onclickHandler,children:e.text})}},103:function(e,t,n){},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(112);var a=n(111);function c(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},257:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var r,a=n(97),c=n.n(a),o=n(98),s=n(108),u=n(101),i=n(0),l=n(50),p=n(14),d=(n(257),n(100)),f=n(1),b=function(e){var t=Object(i.useContext)(l.socketContext);Object(i.useEffect)((function(){return t.emit("join",{roomname:"requestAccept"}),function(){t.off()}}),[]);return Object(f.jsxs)("div",{className:"friendrequest w-4/5 md:w-1/4 md:h-40 flex items-center justify-center m-4 md:m-8 p-2 md:p-4 rounded-md",children:[e.profileimage?Object(f.jsx)("img",{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).OUTPUT_URL,"/").concat(e.profileimage),className:"h-14 md:h-16 w-14  md:w-16 rounded-full border-4 border-white",alt:"image"}):null,Object(f.jsx)(p.b,{to:"/profile/".concat(e.username),className:"m-2 md:m-8",children:Object(f.jsx)("span",{className:"md:text-xl text-white font-bold",children:e.username})}),Object(f.jsx)("span",{className:e.status?"text-xl font-bold text-green-300":"text-xl font-bold text-blue-300",children:e.status}),Object(f.jsx)(d.a,{classname:"bg-green-400 text-white font-bold p-1 md:p-2 rounded-md border-2 border-white  hover:bg-green-500 m-1 md:m-4",text:"\u2714",onclickHandler:function(){console.log("Accept request is running on client"),t.emit("acceptRequest",{requestFrom:e.requestFrom,requestTo:e.requestTo})}}),Object(f.jsx)(d.a,{classname:"bg-red-400 text-white font-bold p-1 md:p-2 rounded-md  border-2 border-white hover:bg-red-500 m-1 md:m-4",text:"\u274c",onclickHandler:function(){console.log("declineHandler is running on client"),console.log("requestFrom : ",e.requestFrom,"requestTo : ",e.requestTo),t.emit("declineRequest",{requestFrom:e.requestFrom,requestTo:e.requestTo})}})]})},m=n(99),h=Object(i.lazy)((function(){return n.e(3).then(n.bind(null,127))})),j=new m.a;t.default=function(){var e=Object(i.useContext)(l.socketContext),t=Object(i.useState)(r),n=Object(u.a)(t,2),a=n[0],p=n[1],d=Object(i.useState)([]),m=Object(u.a)(d,2),v=m[0],x=m[1];return Object(i.useEffect)((function(){return e.emit("join",{roomname:"friendrequest"}),function(){e.off()}}),[]),e.on("addfriendupdate",(function(e){var t=e.friendRequest,n=(e.requestFrom,e.requestTo);console.log("add friend update running on the client"),console.log(t),r=n,n===a&&(x([].concat(Object(s.a)(v),[t])),console.log(v))})),e.on("updatedRequests",(function(e){var t=e.FriendRequests,n=e.userid;console.log(t),console.log(v),r===n&&x(Object(s.a)(t))})),Object(i.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.fetchPrivateData("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PRIVATE_URL,"/getuserdata"),sessionStorage.getItem("authToken"));case 2:t=e.sent,console.log(t),r=t.data.user._id,p(r),console.log(r),x([].concat(Object(s.a)(v),Object(s.a)(t.data.user.friendRequests)));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"friendRequestComponent h-screen w-screen",children:[Object(f.jsx)(i.Suspense,{fallback:Object(f.jsx)("h1",{children:"loading..."}),children:Object(f.jsx)(h,{})}),Object(f.jsx)("h1",{className:"text-2xl font-bold text-center text-white mt-4",children:"Friend Request's"}),Object(f.jsx)("div",{className:"friendRequestContainer flex flex-col md:flex-row md:flex-wrap items-center justify-center",children:0!==v.length?v.map((function(e){return console.log(e),Object(f.jsx)(b,{username:e.username,profileimage:e.profileimage,status:e.status,requestFrom:e._id,requestTo:a},e._id)})):Object(f.jsx)("h1",{className:"text-lg text-white",children:"No friend requests!!!"})})]})})}},99:function(e,t,n){"use strict";var r=n(97),a=n.n(r),c=n(98),o=n(109),s=n(110),u=n(105),i=n.n(u),l=function(){function e(){Object(o.a)(this,e),this.userGoogleLogin=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"content-type":"application/json"}},e.next=4,i.a.post(t,n,r);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),this.userFacebookLogin=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{"content-type":"application/json"}},e.next=4,i.a.post(t,n,r);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}return Object(s.a)(e,[{key:"sendformData",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"content-type":"application/json"}},e.prev=1,e.next=4,i.a.post(t,n,r);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getuser",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.prev=1,e.next=4,i.a.post(t,n,c);case 4:return o=e.sent,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPrivateData",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=1,e.next=4,i.a.get(t,r);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fileUpload",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(r)}},e.prev=1,e.next=4,i.a.post(t,n,c);case 4:return o=e.sent,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();t.a=l}}]);
//# sourceMappingURL=14.9e132925.chunk.js.map