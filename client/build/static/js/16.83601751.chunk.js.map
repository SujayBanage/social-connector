{"version":3,"sources":["UIshared/button/button.js","UIshared/form/form.js","components/login/login.js","services/apiRequestService.js"],"names":["button","props","linkTo","to","className","classname","text","type","onClick","onclickHandler","apiRequest","apiRequestService","Form","history","useHistory","console","log","notify","success","message","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","responseSuccessGoogle","response","a","data","tokenId","userGoogleLogin","res","sessionStorage","setItem","authToken","localStorage","refreshToken","setTimeout","push","responseFacebook","accessToken","userID","userFacebookLogin","class","onSubmit","onSubmitHandler","for","id","name","placeholder","value","state","username","onChange","onChangeHandler","email","password","clientId","process","GOOGLE_CLIENT_ID","buttonText","onSuccess","onFailure","cookiePolicy","appId","FACEBOOK_ID","autoLoad","fields","icon","size","textButton","callback","Login","useState","setState","useEffect","getItem","submitHandler","e","preventDefault","validator","isEmail","loginRequest","sendformData","AUTH_URL","target","url","config","headers","axios","post","token","get"],"mappings":"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","file":"static/js/16.83601751.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./button.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst button = (props) => {\r\n  return props.linkTo ? (\r\n    <Link to={props.linkTo} >\r\n      <button className={props.classname}>{props.text}</button>\r\n    </Link>\r\n  ) : (\r\n    <button className={props.classname} type={props.type} onClick={props.onclickHandler}>\r\n      {props.text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default button;\r\n","import React from \"react\";\r\nimport Button from \"../button/button.js\";\r\nimport { useHistory ,Link } from \"react-router-dom\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport apiRequestService from \"../../services/apiRequestService.js\";\r\nimport {toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nconst apiRequest = new apiRequestService();\r\n\r\nconst Form = (props) => {\r\n  const history = useHistory();\r\n  console.log(\"this is form component\");\r\n\r\n  const notify = (success, message) => {\r\n    if (success === true) {\r\n      toast.success(message, {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (success === false) {\r\n      toast.error(message, {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else {\r\n      toast(message, {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    }\r\n  };\r\n\r\n  const responseSuccessGoogle = async (response) => {\r\n    console.log(response);\r\n    const data = {\r\n      tokenId: response.tokenId,\r\n    };\r\n    const res = await apiRequest.userGoogleLogin(\"/auth/userGoogleLogin\", data);\r\n    console.log(res);\r\n    if (res.data.success) {\r\n      sessionStorage.setItem(\"authToken\", res.data.authToken);\r\n      localStorage.setItem(\"refreshToken\", res.data.refreshToken);\r\n      notify(res.data.success, res.data.message);\r\n      setTimeout(() => {\r\n        history.push(\"/feed\");\r\n      }, 3000);\r\n    } else {\r\n      notify(res.data.success, res.data.message);\r\n    }\r\n  };\r\n  \r\n  const responseFailGoogle = (response) => {\r\n    console.log(response);\r\n  };\r\n  \r\n  \r\n  const responseFacebook=async(response)=>{\r\n    console.log(response);\r\n    const data = {\r\n      accessToken: response.accessToken,\r\n      userID: response.userID\r\n    }\r\n    const res = await apiRequest.userFacebookLogin('/auth/userFacebookLogin',data)\r\n    if(res.data.success){\r\n      sessionStorage.setItem(\"authToken\", res.data.authToken);\r\n      localStorage.setItem(\"refreshToken\", res.data.refreshToken);\r\n      notify(res.data.success, res.data.message);\r\n      setTimeout(() => {\r\n        history.push(\"/feed\");\r\n      }, 3000);\r\n    }\r\n    else{\r\n      notify(res.data.success, res.data.message);\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      {props.type === \"signup\" ? (\r\n        <>\r\n          <div class=\"w-full max-w-xs\">\r\n            <form\r\n              className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\r\n              onSubmit={props.onSubmitHandler}\r\n            >\r\n              <div className=\"mb-4\">\r\n                <label\r\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                  for=\"username\"\r\n                >\r\n                  Username\r\n                </label>\r\n                <input\r\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  value={props.state.username}\r\n                  onChange={props.onChangeHandler}\r\n                />\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <label\r\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                  for=\"email\"\r\n                >\r\n                  Email\r\n                </label>\r\n                <input\r\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"text\"\r\n                  placeholder=\"email\"\r\n                  value={props.state.email}\r\n                  onChange={props.onChangeHandler}\r\n                />\r\n              </div>\r\n              <div className=\"mb-6\">\r\n                <label\r\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                  for=\"password\"\r\n                >\r\n                  Password\r\n                </label>\r\n                <input\r\n                  className=\"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"******************\"\r\n                  value={props.state.password}\r\n                  onChange={props.onChangeHandler}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center justify-center\">\r\n                {/* <button\r\n                class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                type=\"button\"\r\n              >\r\n                {props.type}\r\n              </button> */}\r\n                <Button\r\n                  classname={props.type}\r\n                  type=\"submit\"\r\n                  text={props.type}\r\n                  onClick={props.onSubmitHandler}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"loginLink flex items-center justify-center underline\">\r\n                <Link to=\"/login\">Already have an account ? </Link>\r\n              </div>\r\n\r\n\r\n            </form>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          {/* <ToastContainer /> */}\r\n          <div className=\"w-full max-w-xs\">\r\n            <form\r\n              className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\"\r\n              onSubmit={props.onSubmitHandler}\r\n            >\r\n              <div className=\"mb-4\">\r\n                <label\r\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                  for=\"email\"\r\n                >\r\n                  Email\r\n                </label>\r\n                <input\r\n                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"text\"\r\n                  placeholder=\"email\"\r\n                  value={props.state.email}\r\n                  onChange={props.onChangeHandler}\r\n                />\r\n              </div>\r\n              <div className=\"mb-6\">\r\n                <label\r\n                  className=\"block text-gray-700 text-sm font-bold mb-2\"\r\n                  for=\"password\"\r\n                >\r\n                  Password\r\n                </label>\r\n                <input\r\n                  className=\"shadow appearance-none border  rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"******************\"\r\n                  value={props.state.password}\r\n                  onChange={props.onChangeHandler}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-center\">\r\n                {/* <button\r\n                class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                type=\"button\"\r\n              >\r\n                {props.type}\r\n              </button> */}\r\n                <Button\r\n                  classname={props.type}\r\n                  type=\"submit\"\r\n                  text={props.type}\r\n                  onClick={props.onSubmitHandler}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"signupLink flex items-center justify-center underline\">\r\n              <Link to=\"/signup\">Don't have an account?</Link>\r\n              </div>\r\n\r\n\r\n\r\n            </form>\r\n\r\n            <div className=\"googleAndOtherLogin flex items-center justify-around\">\r\n              <GoogleLogin\r\n                clientId={process.env.GOOGLE_CLIENT_ID}\r\n                buttonText=\"Login\"\r\n                onSuccess={responseSuccessGoogle}\r\n                onFailure={responseFailGoogle}\r\n                cookiePolicy={\"single_host_origin\"}\r\n              />\r\n              <FacebookLogin\r\n                appId={process.env.FACEBOOK_ID}\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                icon=\"fa-facebook\"\r\n                size=\"small\"\r\n                textButton=\"Login\"\r\n                // onClick={componentClicked}\r\n                callback={responseFacebook}\r\n              />\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, {useState ,useEffect} from \"react\";\r\nimport Form from \"../../UIshared/form/form.js\";\r\nimport apiRequestService from \"../../services/apiRequestService.js\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport validator from 'validator';\r\nimport {toast} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n\r\nconst notify = (success, message) => {\r\n  if (success === true) {\r\n    toast.success(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else if (success === false) {\r\n    toast.error(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  } else {\r\n    toast(message, {\r\n      position: \"top-right\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  }\r\n};\r\n\r\nconst Login = () => {\r\n\r\n  const history = useHistory();\r\n\r\n  const [state, setState] = useState({ email: \"\", password: \"\" });\r\n\r\n  useEffect(() => {\r\n    if(sessionStorage.getItem(\"authToken\")){\r\n      history.push(\"/\");\r\n      return;\r\n    }\r\n  },[])\r\n\r\n  const inputChangeHandler = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    setState({ ...state, [name]: value });\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!state.password || !state.email) {\r\n      console.log(\"Please enter details again\");\r\n      return;\r\n    }\r\n\r\n    const isEmail = validator.isEmail(state.email);\r\n\r\n    if(!isEmail) {\r\n      console.log(\"Please enter details again\")\r\n      return;\r\n    }\r\n\r\n    const data = {\r\n      email: state.email,\r\n      password: state.password,\r\n    };\r\n\r\n    const loginRequest = new apiRequestService();\r\n    const response = await loginRequest.sendformData(`${process.env.AUTH_URL}/userLogin`,data);\r\n    if(response.data.success===true){\r\n      console.log(\"login successfulll!!!\");\r\n    }\r\n        \r\n    const {success,authToken,refreshToken,message} = response.data;\r\n    console.log(response);\r\n    if(success===true){\r\n      sessionStorage.setItem(\"authToken\",authToken);\r\n      localStorage.setItem(\"refreshToken\",refreshToken);\r\n      setState({ email: \"\", password: \"\" });\r\n      notify(response.data.success,response.data.message);\r\n      setTimeout(()=>{\r\n        history.push('/feed');\r\n      },3000)\r\n    }\r\n    else{\r\n      notify(response.data.success,response.data.message);\r\n      console.log(message);\r\n    }\r\n    \r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <div className=\"loginComponent h-screen\">\r\n      <div className=\"flex items-center justify-center mt-20\">\r\n      <Form\r\n        type=\"login\"\r\n        state={state}\r\n        onChangeHandler={inputChangeHandler}\r\n        onSubmitHandler={submitHandler}\r\n      />\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from 'axios';\r\nclass apiRequestService{\r\n    async sendformData(url, data){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\"\r\n            }\r\n        }       \r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            // console.log(err);\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async getuser(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err.message;\r\n        }\r\n\r\n    }\r\n\r\n    async fetchData(url){\r\n        try{\r\n            const response = await axios.get(url);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async fetchPrivateData(url,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        };\r\n        try {\r\n            const response = await axios.get(url,config);\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n\r\n    }\r\n\r\n    async fileUpload(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"multipart/form-data\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try {\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            // console.log(error);\r\n            return error;    \r\n        }\r\n    }\r\n\r\n    userGoogleLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n    userFacebookLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default apiRequestService;"],"sourceRoot":""}