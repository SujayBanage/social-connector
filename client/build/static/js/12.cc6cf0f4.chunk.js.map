{"version":3,"sources":["UIshared/button/button.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","images/profile.png","components/user/user.js","components/Friends/Friends.js","services/apiRequestService.js"],"names":["button","props","linkTo","to","className","classname","text","type","onClick","onclickHandler","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","User","socket","useContext","socketContext","src","imgsrc","process","OUTPUT_URL","profile","alt","notification","notificationType","username","status","notificationRemove","friend","emit","userid","requestFrom","SideBar","lazy","apiRequest","apiRequestService","Friends","useState","friends","setFriends","users","setUsers","setUserid","useEffect","roomname","off","a","fetchPrivateData","PRIVATE_URL","sessionStorage","getItem","res","console","log","data","user","_id","fetchData","fallback","length","map","profileimage","toCheck","includes","checkFriendFunction","userGoogleLogin","url","config","headers","axios","post","response","userFacebookLogin","token","message","get"],"mappings":"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","file":"static/js/12.cc6cf0f4.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./button.css\";\r\nimport { Link } from \"react-router-dom\";\r\nconst button = (props) => {\r\n  return props.linkTo ? (\r\n    <Link to={props.linkTo} >\r\n      <button className={props.classname}>{props.text}</button>\r\n    </Link>\r\n  ) : (\r\n    <button className={props.classname} type={props.type} onClick={props.onclickHandler}>\r\n      {props.text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default button;\r\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAI9SURBVEiJrdaxaxRREAbw3wsXtRch2Jx2FiGGpFACCaKgqZJC/4q02ggJBhurlPYpLBS0kRAVCwNaGEiMVdAycIUY0mkIF+FZ3Kyum90zggPD7s18882+N+/NXMo5a5KU0hAuYQzj8YQP2Iznes75SyNJzvmIooUFdJHxFau4H7oathyYBbRquWrIL2IrAhfRrgsMbDsw3Yi52DcB5gL8EaNNxDWJRiOmi7naBPHlXTzEYIUgYRJ3QieRKpjBiO2WV1Le8634iip5G29iv7+H5rC1a5JshbbKCRaqmcN+Ctv4jCkMhE6FbRunarari4XihA4VBa3Z23l8w/ka3/nwzdf4isIPwWws+chpwRoe9ynuY6w1nK6M2QG9y7Obc95xVNro1NgL6QTmDwmuXYwN6N3QjQaCdQz3STAcmDrZwHixgqYEL3E9pXSt6gjb9cA0JRhrxY/DOkTOeTmldBUrKaUHeBWuG7iLRznn5YYEvzhX8KRPIafxQ69oZf2B6T5xT7DS0uuKt2q2oI0l3MQ7vMencF/AZbxIKT3D7ZpDMoyn9I7pIU6Xss9gX6+AV/p85ZXA7GOmZD8dnLP8vmhL4TyLvdi6k8dodCcDu4ezYVtSXLRSqzjAObzGW5z4h256ImJeB8eBolVUmt1OFHDiuOSlJBMRu6Pa7Crt+pOG6fSXBK2IPdquS6Bi4Gxi5B/IRyKmeeBUVlKMzHs404f4TGCONzIryy0P/Q6e67XhxXjvOMbQT0FYK//jb8tPzIIZExSXogkAAAAASUVORK5CYII=\"","import React, { useContext} from \"react\";\r\nimport Button from \"../../UIshared/button/button.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport profile from \"../../images/profile.png\";\r\nimport \"./user.css\";\r\nimport { socketContext } from \"../../index.js\";\r\nconst User = (props) => {\r\n  const socket = useContext(socketContext);\r\n  const onclickHandler = () => {\r\n    socket.emit(\"addfriend\", {\r\n      userid: props.userid,\r\n      requestFrom: props.requestFrom,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"userContainer flex items-center text-white justify-between md:justify-center md:max-w-6xl mb-2 md:mr-4 p-4 rounded-md\">\r\n      <div className=\"userimgContainer\">\r\n        <img\r\n          src={\r\n            props.imgsrc\r\n              ? `${process.env.OUTPUT_URL}/${props.imgsrc}`\r\n              : profile\r\n          }\r\n          className=\"h-12 w-12 md:h-16 md:w-16 rounded-full mr-3 \"\r\n          alt=\"image\"\r\n        />\r\n      </div>\r\n      {props.notification === true && props.notificationType === \"request\" ? (\r\n        <Link to={`/profile/${props.username}`}>\r\n          <span className=\"text-xl\">\r\n            {props.username} sent you a friend request\r\n          </span>\r\n        </Link>\r\n      ) : props.notificationType === \"decline\" ? (\r\n        <Link to={`/profile/${props.username}`}>\r\n          <span className=\"text-xl\">\r\n            {props.username} declined your friend request\r\n          </span>\r\n        </Link>\r\n      ) : (\r\n        <Link to={`/profile/${props.username}`}>\r\n          <span className=\"text-sm mr-2 md:text-xl font-bold\">{props.username}</span>\r\n        </Link>\r\n      )}\r\n      <span\r\n        className={\r\n          props.status === \"online\"\r\n            ? \"text-green-500 hidden md:text-lg font-bold\"\r\n            : \"text-blue-500 hidden md:text-lg font-bold\"\r\n        }\r\n      >\r\n        {props.status}\r\n      </span>\r\n      {props.notification ? <Button text=\"❌\" classname=\"bg-red-500 p-2 rounded-md \" onclickHandler={props.notificationRemove}/> : null}\r\n      {props.friend === false ? (\r\n        <Button\r\n          text=\"Add\"\r\n          classname=\"border-2 border-white text-sm md:text-md font-bold text-white p-2 m-2  rounded-md\"\r\n          onclickHandler={onclickHandler}\r\n        />\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React, { useContext, useEffect, useState,lazy,Suspense } from \"react\";\r\nimport User from \"../user/user.js\";\r\nimport { socketContext } from \"../../index.js\";\r\nimport apiRequestService from \"../../services/apiRequestService.js\";\r\nconst SideBar = lazy(()=>import(\"../sideBar/sideBar\")) ;\r\nconst apiRequest = new apiRequestService();\r\nconst Friends = () => {\r\n  const socket = useContext(socketContext);\r\n  const [friends, setFriends] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [userid, setUserid] = useState(\"\");\r\n\r\n  //   const checkFriendFunction =(userid)=>{\r\n  //     setFriends(friends.filter(friend=>{\r\n  //         return friend._id !== userid;\r\n  //     }))\r\n  //   }\r\n\r\n  const checkFriendFunction =(user)=>{\r\n    const toCheck = {\r\n      _id: user._id,\r\n      username: user.username,\r\n    }\r\n\r\n    const users = friends.map((friend)=>{\r\n      return friend._id===toCheck._id && friend.username === toCheck.username;\r\n    })\r\n\r\n    console.log(users);\r\n\r\n    if(users.includes(true)){\r\n      return false;\r\n    }\r\n    else{\r\n      return true;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"join\", { roomname: \"addFriend\" });\r\n    return () => {\r\n      socket.off();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const res = await apiRequest.fetchPrivateData(\r\n        `${process.env.PRIVATE_URL}/getallusers`,\r\n        sessionStorage.getItem(\"authToken\")\r\n      );\r\n      console.log(res);\r\n      setUserid(res.data.user._id);\r\n      setFriends([...res.data.user.friends]);\r\n      setUsers([...res.data.users]);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n    <div className=\"friendComponent flex flex-col items-center h-screen md:h-screen w-full\">\r\n    \r\n     <Suspense fallback={<h1>loading.....</h1>}>\r\n      <SideBar/>\r\n     </Suspense> \r\n    <div className=\"friendsContainer flex flex-col md:flex-row md:flex-wrap mt-4\">\r\n      {friends.length !== 0 ? (\r\n        friends.map((friend) => {\r\n          {\r\n            return <User imgsrc={friend.profileimage} username={friend.username} status={friend.status} friend={true}/>\r\n          }\r\n        })\r\n      ) : (\r\n        <h1 className=\"text-center text-white font-bold text-xl\">no friends yet !!!</h1>\r\n      )}\r\n    </div>\r\n      <h1 className=\"text-center text-white font-bold text-xl\">other users</h1>\r\n      <div className=\"usersContainer flex flex-col md:flex-row flex-wrap items-center justify-center p-4\">\r\n        {users.length !== 0 ? (\r\n          users.map((user) => {\r\n            if (user._id !== userid && checkFriendFunction(user)) {\r\n              return (\r\n                <User\r\n                  key={user._id}\r\n                  requestFrom={userid}\r\n                  userid={user._id}\r\n                  imgsrc={user.profileimage}\r\n                  username={user.username}\r\n                  status={user.status}\r\n                  friend={false}\r\n                />\r\n              );\r\n            }\r\n          })\r\n        ) : (\r\n          <h1>no users yet !!!</h1>\r\n        )}\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import axios from 'axios';\r\nclass apiRequestService{\r\n    async sendformData(url, data){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\"\r\n            }\r\n        }       \r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            // console.log(err);\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async getuser(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try{\r\n            const response = await axios.post(url,data,config);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err.message;\r\n        }\r\n\r\n    }\r\n\r\n    async fetchData(url){\r\n        try{\r\n            const response = await axios.get(url);\r\n            return response;\r\n        }\r\n        catch(err){\r\n            return err;\r\n        }\r\n    }\r\n\r\n    async fetchPrivateData(url,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"application/json\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        };\r\n        try {\r\n            const response = await axios.get(url,config);\r\n            return response;\r\n        } catch (error) {\r\n            return error;\r\n        }\r\n\r\n    }\r\n\r\n    async fileUpload(url,data,token){\r\n        const config = {\r\n            headers:{\r\n                \"content-type\": \"multipart/form-data\",\r\n                \"Authorization\":`Bearer ${token}`\r\n            }\r\n        }\r\n        try {\r\n            const response = await axios.post(url,data,config);\r\n            // console.log(response);\r\n            return response;\r\n        } catch (error) {\r\n            // console.log(error);\r\n            return error;    \r\n        }\r\n    }\r\n\r\n    userGoogleLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n    userFacebookLogin=async(url,data)=>{\r\n        try{\r\n            const config ={\r\n                headers:{\r\n                    \"content-type\": \"application/json\"\r\n                }\r\n            }\r\n            const response = await axios.post(url,data,config)\r\n            return response;\r\n        }\r\n        catch(error){\r\n            return error;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default apiRequestService;"],"sourceRoot":""}